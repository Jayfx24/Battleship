(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,h="".concat(c," ").concat(d);o[c]=d+1;var p=n(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:m,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=r(t,i),c=0;c<o.length;c++){var d=n(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},208:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Space+Mono:wght@400;700&display=swap);"]),a.push([t.id,':root {\n  --size: 2.5rem;\n  --shadow-md: rgba(0, 0, 0, 0.1);\n  /* font sizes */\n\n  --ff-1: "Space Mono", monospace;\n  --ff-2: "Poppins", sans-serif;\n  --ff-3: "Special Elite", system-ui;\n\n\n  /* colors */\n  /* text */\n  --white-70: hsla(119, 0%, 70%, 1);\n  --white-80: hsla(119, 0%, 80%, 1);\n  --white-100: hsla(119, 0%, 100%, 1);\n\n  --green-30: hsla(119, 98%, 30%, 1);\n  --green-70: hsla(119, 98%, 70%, 1);\n\n\n\n\n  --blue-10: hsla(245, 82%, 10%, 1);\n  --blue-20: hsla(245, 82%, 20%, 1);\n  --blue-40: hsla(245, 82%, 40%, 1);\n\n \n}\n\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  line-height: 1.6;\n\n  background-color: var(--blue-20);\n  background-color: hsla(245, 82%, 10%, 1);\n  background-color: var(--blue-10);\n \n\n  font-family: var(--ff-1);\n  color: var(--white-70);\n}\n\n\nmain {\n  height: 100%;\n  min-height: 100vh;\n}\n\n\n\np {\n  max-width: 100%;\n  line-height: 1.7;\n}\n\nimg {\n  display: block;\n  max-width: 100%;\n}\n\n\nbutton {\n  font-size: .8rem;\n  padding: .7rem 2rem;\n  border-radius: 4px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  text-transform: uppercase;\n  color: white;\n  font-weight: 600;\n\n}\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  padding: 1rem;\n  align-items: center;\n  gap: 1rem;\n  overflow-y: auto;\n  \n}\n\n\n\n.board-container {\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n \n  gap: 1rem;\n  justify-content: center;\n  margin-inline: auto;\n  position: relative;\n  max-width: 1024px;\n\n\n}\n\n\n\n\n.board__wrapper {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  flex: 1;\n  gap: .25rem;\n  padding: .5rem;\n\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, minmax(35px, 1fr));\n  grid-template-rows: repeat(10, minmax(35px, 1fr));\n  aspect-ratio: 1;\n\n\n\n}\n\n.cor {\n  border: 1px solid;\n  border-radius: 2px;\n  position: relative;\n  border-radius: 4px;\n  color: lightblue;\n  color: var(--blue-20);\n  background-color: transparent;\n \n}\n\n\n\n\n.board__player_settings {\n  display: flex;\n  border-radius: 1rem;\n  flex: 1;\n  padding: 2.5rem 0.3rem;\n  order: -1;\n}\n\n\n\n.ship,\n.ship-hit,\n.missed,\n.dock-ship {\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n}\n\n.ship {\n  background-color: green;\n  position: absolute;\n}\n\n.missed::before {\n  position: absolute;\n  border-radius: 50%;\n  width: 25%;\n  height: 25%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.missed::before {\n  content: \'\';\n  background-color: lightblue;\n\n}\n\n\n.ship-holder .cor .ship {\n  position: relative;\n  z-index: 100;\n}\n\n\n\n\n.ship-holder,\n.confirmation {\n  padding: 1.5rem .3rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-content: start;\n \n  width: 100%;\n \n\n}\n\n.ship-holder {\n  padding: 1.5rem .3rem;\n}\n\n.confirmation {\n  padding: 3rem;\n  box-shadow: 3px 3px 1rem var(--shadow-md);\n  gap: 3rem;\n  border-radius: 14px;\n  color: var(--white-100);\n}\n\n.confirmation p {\n  font-size: 1.25rem;\n}\n\n.confirmation__btn {\n  color: var(--white-100);\n  margin-top: auto;\n}\n\n\n\n.ship-layer {\n  display: flex;\n  gap: .25rem;\n  position: relative;\n  z-index: 10;\n  max-width: fit-content;\n  cursor: grabbing;\n\n}\n\n.dock-ship {\n  width: var(--size);\n  height: var(--size);\n  background-color: green;\n  position: relative;\n  z-index: -1;\n}\n\n\n.board__controls,\n.board__player-info {\n  display: flex;\n  justify-content: space-between;\n  padding: .25rem 0;\n  width: 100%;\n  min-height: 2.5rem;\n  flex-wrap: wrap;\n}\n\n.board__player-info {\n \n  padding: .3rem;\n  font-weight: 600;\n}\n\n\n\n/* volume */\n.volume-state {\n  margin-left: auto;\n  cursor: pointer;\n}\n\n.volume-svg {\n  fill: hsla(119, 0%, 30%, 1);\n  stroke: hsla(119, 0%, 30%, 1);\n  width: 2rem;\n  height: 2rem;\n}\n\n.volume-svg:hover {\n  fill: var(--white-100);\n  stroke: var(--white-100);\n}\n\n/* buttons */\n\n\n\n.board__button--randomize {\n  background-color: darkblue;\n  \n}\n\nbutton:hover {\n  opacity: 0.6;\n}\n\n\n\n\n.board__button--reset {\n  background-color: gray;\n}\n\n.over {\n  border: 2px solid blue;\n}\n\n\n.hide {\n  display: none;\n}\n\n.no-visibility {\n  visibility: hidden;\n}\n\n.board__player_settings {}\n\n/* form */\nform {\n  display: grid;\n \n  padding: 3rem 2.5rem;\n  align-content: start;\n  gap: 2.5rem;\n  width: 100%;\n\n  background-color: hsla(245, 82%, 12%, .5);\n  color: gray;\n  border-radius: inherit;\n  font-family: var(--ff-2);\n  transition: box-shadow 0.3s ease;\n\n}\n\nform:hover {\n  box-shadow: 3px 3px 1rem var(--shadow-md);\n\n}\n\n.form__radios {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1.5rem;\n}\n\nform label {\n  font-size: 0.875rem;\n\n}\n\n.checkbox__label {\n  text-transform: uppercase;\n  letter-spacing: 2px;\n  font-weight: 400;\n  cursor: pointer;\n\n\n}\n\n.name-input {\n  color: var(--white-80);\n  text-transform: uppercase;\n  font-weight: 600;\n}\n\nform input[type="text"] {\n  font-size: 1.25rem;\n  font-weight: 500;\n  padding: 1rem .875rem;\n  width: 100%;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  background-color: transparent;\n  border: none;\n  caret-color: var(--white-100);\n  border: 1px solid grey;\n  border-color: var(--blue-20);\n  color: var(--white-70);\n\n\n}\n\nform input[type="text"]::placeholder {\n  font-style: italic;\n  opacity: 0.2;\n\n}\n\nform input[type="text"]:focus {\n  border: 1.25px solid var(--blue-40);\n  outline: none;\n \n\n}\n\n.form-group {\n  display: grid;\n  gap: .25rem;\n  align-content: start;\n}\n\n.form__button,\n.confirmation__btn {\n  padding-block: 1rem;\n  font-size: 1.25rem;\n  text-transform: uppercase;\n  font-weight: 600;\n  font-family: inherit;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  transition: background-color 0.3s ease-out;\n}\n\n.form__button{\n  color: var(--blue-20);\n  background-color: var(--blue-40);\n\n}\n.form__button:hover {\n  color: var(--white-100);\n  opacity: 1;\n  background-color: var(--green-30);\n\n}\n\n/* authorization */\n\n.authorization {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  inset: 0;\n \n  min-height: fit-content;\n  width: 100%;\n  height: 100%;\n  background-color: var(--blue-20);\n/* background-color: var(--blue-10); */\n  color: var(--white-80);\n  padding: 3rem;\n  gap: 2.5rem;\n  border-radius: 14px;\n  z-index: 99;\n  line-height: 1.5;\n  box-shadow: 3px 3px 1rem var(--shadow-md);\n  font-weight: 400;\n\n  letter-spacing: 2px;\n\n}\n\n\n.authorization__title {\n  font-size: clamp(1rem, 1.875rem, 4rem);\n  font-weight: 600;\n  text-decoration: underline;\n  text-underline-offset: .5rem;\n  text-transform: uppercase;\n  z-index: 5;\n  word-break: break-word;\n  font-family: var(--ff-1);\n  width: 70%;\n\n\n}\n\n.authorization__body {\n  font-size: 1.25rem;\n  color: var(--white-80);\n \n\n}\n\n.body-text {\n\n  margin-top: 1rem;\n\n}\n\n.authorization__btn {\n  align-self: self-end;\n  font-size: 1em;\n  padding: 1rem 3rem;\n  background-color: hsl(0, 100%, 51%);\n  font-weight: 600;\n  margin-top: auto;\n  font-family: var(--ff-1);\n\n}\n\n.authorization__secrets {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 0 1rem;\n  opacity: 1;\n\n}\n\n.secrets__img {\n  width: clamp(100px, 150px, 300px);\n\n}\n\n\n/* clrs */\n\n.ship,\n.dock-ship {\n  background-color: green;\n  background-color: var(--green-70);\n  border-radius: 5px;\n\n\n}\n\n.board__notifier {\n  width: 100%;\n  max-width: 1024px;\n  border-radius: 8px;\n}\n\n/* analytics */\n.analytics {\n\n  width: 100%;\n  padding: 1.5rem;\n\n  font-weight: 700;\n  border-radius: inherit;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  gap: 1rem;\n\n}\n\n.analytics__update {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n}\n\n.live-update {\n  visibility: visible;\n  font-size: 1.5rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  font-family: var(--ff-2);\n\n}\n\n.analytics__ships__info {\n  flex: 1;\n\n}\n\n.analytics__texts {\n  margin-bottom: 1rem;\n}\n\n.analytics__texts>span {\n  font-size: 1.5rem;\n  font-weight: 700;\n}\n\n.analytics__texts>p {\n  font-size: .9rem;\n  font-weight: 500;\n\n}\n\n.analytics__ships {\n  display: flex;\n  gap: .25rem;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  width: 100%;\n\n}\n\n.analytics__ship {\n  display: flex;\n  gap: .1rem;\n}\n\n.analytics__ships__one,\n.analytics__ships__two {\n  display: grid;\n  grid-template-columns: repeat(2, 100px);\n  gap: .5rem;\n  align-content: start;\n\n}\n\n.analytics__ship .dock-ship {\n  width: 1rem;\n  height: 1rem;\n  border-radius: 0;\n  z-index: 2;\n}\n\n\n\n.ship-hit {\n  background-color: red;\n\n}\n\n.disabled {\n  opacity: 0.5;\n}\n\n.board-pass {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgb(163, 39, 39);\n  background-color: red;\n  z-index: 99;\n  opacity: .5;\n  font-size: 0.875rem;\n\n}\n\n.board-pass:hover {\n  color: var(--white-100);\n  opacity: 1;\n\n\n}\n\n.sunk {\n  background-color: hsla(355, 90%, 25%, 1);\n}\n\n/*  */\n.hide {\n  display: none;\n}\n\n\n.active {\n  color: var(--white-100);\n  font-weight: 600;\n \n}\n\n.active-enemy-board {\n  color: red;\n  font-style: italic;\n}\n\n.crosshair {\n  cursor: crosshair;\n}\n\n.not-allowed {\n  cursor: not-allowed;\n}\n',""]);const s=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0;class r{constructor(t="Player",e,n="real"){this.name=t,this.gameBoard=e,this.type=n}}function i(t=10,e=10){if(!Number(t)||!Number(e))throw new Error("input numbers ");const n=Array.from({length:t},(()=>Array(e).fill(""))),r=new Set,i=new Set;return{placeShip(i,o,a,s){for(let l=0;l<i.length;l++){if(o<0||o>t-1||a<0||a>e-1)throw new Error("Out of bound");if(""!==n[o][a])throw new Error("Can not place ship, if the position is occupied");n[o][a]=i;let l=`${o},${a}`;r.add(l),s?a++:o++}},receiveAttack(t,e){let r=`${t},${e}`;if(t<0||t>9||e<0||e>9)throw new Error("Out of bound");if("X"===n[t][e]||0===n[t][e]||i.has(r))throw new Error("Can not hit the same coordinate twice");""!==n[t][e]?(n[t][e].hit(),n[t][e]="X"):n[t][e]=0,i.add(r)},findAllShips(t=n,e=0,r=new Set){const i=["",0,"X"];if(e===t.length)return r;for(let n of t[e])i.includes(n)||r.has(n)||r.add(n);return this.findAllShips(t,e+1,r)},isAllShipSunk(){return[...this.findAllShips()].every((t=>t.isSunk()))},removeShip(t){for(let e=0;e<n.length;e++)n[e].forEach(((i,o)=>{i.name===t&&(n[e][o]="",r.delete(`${e},${o}`))}))},getBoard:()=>n,occupiedLocs:()=>r,hitSpots:()=>i}}function o(t,e,n=!0){let r=0;return{name:t,length:e,orientation:n,hit:()=>r++,isSunk:()=>r===e,getHits:()=>r}}const a=n.p+"c09382cdd16e9017d783.svg",s={wrapper:document.querySelector(".wrapper"),boardContainer:document.querySelector(".board-container"),boardWrappers:document.querySelectorAll(".board__wrapper"),boardOne:document.querySelector(".board--one"),boardTwo:document.querySelector(".board--two"),boardOneWrapper:document.querySelector(".board__wrapper--one"),boardTwoWrapper:document.querySelector(".board__wrapper--two"),playerOne:{info:document.querySelector(".board__player-info--one"),name:document.querySelector(".player-info__name--one")},playerTwo:{info:document.querySelector(".board__player-info--two"),name:document.querySelector(".player-info__name--two")},instructions:document.querySelectorAll(".instructions"),playerTwoInfo:document.querySelector(".board__player-info--two"),randomizeBtns:document.querySelectorAll(".board__button--randomize"),resetBtns:document.querySelectorAll(".board__button--reset"),analytics:{parent:document.querySelector(".analytics"),ships:document.querySelector(".analytics__ships"),one:document.querySelector(".analytics__ships__one"),two:document.querySelector(".analytics__ships__two"),infoOne:document.querySelector(".analytics__ships__info--one"),infoTwo:document.querySelector(".analytics__ships__info--two"),currentPlayerOne:document.querySelector(".current-player--one"),currentPlayerTwo:document.querySelector(".current-player--two"),liveUpdate:document.querySelector(".live-update")},boardPass:{all:document.querySelectorAll(".board-pass"),one:document.querySelector(".board-pass--one"),two:document.querySelector(".board-pass--two")},boardOpp:{all:document.querySelectorAll(".board__opponent"),one:document.querySelector(".board__opponent--one"),two:document.querySelector(".board__opponent--two")},volumeState:{parent:document.querySelector(".volume-state"),all:document.querySelectorAll(".volume-svg")}},l={form:document.createElement("form"),playerSetts:document.createElement("div"),placeHolder:document.createElement("div"),dragBoard:document.createElement("div"),confirmPlacement:{parent:document.createElement("div"),text:document.createElement("p"),confirmBtn:document.createElement("button")},randSpan:document.createElement("span"),randomize:document.createElement("button"),authorization:{article:document.createElement("article"),title:document.createElement("h1"),body:document.createElement("p"),topSecret:document.createElement("span"),topSecretImg:document.createElement("img"),btn:document.createElement("button")}},c={title:"⚓ Attention Required!",body:"Commander, please confirm that you are satisfied with the current deployment of your battle group.",btn:"Pass the device"},d={title:"Authorization Needed",body:t=>`<p>Admiral ${t},</p><p class="body-text">Authorize the placement of your carrier group before proceeding.</p>`,btn:"Authorize"},h={title:"Authorization Needed",body:t=>`<p>Admiral ${t},</p><p class="body-text">Authorize the coordinates for your next strike.</p>`,btn:"Authorize Next Shot"},p={title:t=>`Mission Accomplished, Admiral ${t}!`,body:t=>`<p>Admiral ${t},</p>\n         <p class="body-text">\n            Your fleet has achieved total dominance at sea. All enemy vessels have been sunk, \n            and the battle is won. The crew salutes your brilliant strategy.\n         </p>\n         <p class="body-text">\n            Stand by for your next mission.\n         </p>`,btn:"⚓ Engage in Another Battle"},u={title:t=>`⚠ Defeat at Sea, Admiral ${t}!`,body:t=>`<p>Admiral ${t},</p>\n     <p class="body-text">\n        The AI fleet has overwhelmed our defenses and sent every last ship to the depths.\n     </p>\n     <p class="body-text">\n        Is there still hope for humanity?.\n     </p>`,btn:"Plan your revenge"};function m(t,e){if(!Array.isArray(t))return;const n={};for(let r=0;r<t.length;r++){let i=r,o=0;t[r].forEach(((t,r)=>{const a=document.createElement("div");if(a.classList.add("cor"),t||0===t){let e=document.createElement("div");"X"===t?e.classList.add("ship-hit"):0===t?e.classList.add("missed"):e.classList.add("ship"),e.dataset.xCor=i,e.dataset.yCor=o,e.dataset.positioning=t.orientation,e.dataset.type=t.name,n[t.name]||(n[t.name]=0),n[t.name]++,e.dataset.part=n[t.name],a.appendChild(e)}a.dataset.xCor=i,a.dataset.yCor=o,o++,e.appendChild(a)}))}}function y(t){const e=t.target,n=document.querySelector(".player__two__input"),r=e.closest("form");e.classList.contains("radio")&&(r.querySelectorAll(".checkbox__label").forEach((t=>t.classList.remove("active"))),e.nextElementSibling.classList.add("active"),"vsBot"===e.value?n.classList.add("hide"):n.classList.remove("hide"))}function f(t){l.playerSetts.innerText="";const e=l.confirmPlacement.parent;e.classList.add("confirmation");const n=l.confirmPlacement.text,r=l.confirmPlacement.confirmBtn,i=c;n.textContent=i.body;const o=t?"Pass device":"Start Game";r.textContent=o,r.style.backgroundColor=t?"hsla(245, 82%, 20%, 1)":"hsla(119, 98%, 30%, 1)",e.style.backgroundColor=t?"hsla(245, 82%, 20%, 1)":"hsla(119, 98%, 30%, 1)",r.classList.add("confirmation__btn"),l.confirmPlacement.parent.appendChild(n),l.confirmPlacement.parent.appendChild(r),l.playerSetts.appendChild(l.confirmPlacement.parent)}function b(t,e,n){const r=l.authorization,i=r.article;s.boardContainer.classList.add("no-visibility"),i.classList.add("authorization"),i.style.visibility="visible",r.title.classList.add("authorization__title"),r.body.classList.add("authorization__body"),r.btn.classList.add("authorization__btn"),r.topSecret.classList.add("authorization__secrets"),r.topSecretImg.classList.add("secrets__img"),r.topSecretImg.src=a,r.title.textContent=t,r.body.innerHTML=e,r.btn.textContent=n,r.topSecret.appendChild(r.topSecretImg),i.appendChild(r.title),i.appendChild(r.body),i.appendChild(r.btn),i.appendChild(r.topSecret),s.boardContainer.appendChild(i)}function g(t){let e;e=t?t.isSunk()?`Direct hit! Enemy ${t.name} has been sunk.`:`Hit confirmed! Enemy ${t.name} has been struck.`:"Missed! The enemy remains unscathed, Admiral.",s.analytics.liveUpdate.textContent=e}function v(){let t=new Set,e=new Set;function n(){return Math.floor(10*Math.random())+0}function r(t,n,r,i,o,a=!1){let s=[];for(let l=0;l<i;l++){const c=o?n:n+l,d=o?r+l:r;let h=`${c},${d}`;if(a){if(t.has(h)||e.has(h))return!1;s.push(h),t.add(h);let n=[];o?(n=[`${c+1},${d}`,`${c-1},${d}`],0===l&&n.push(`${c},${d-1}`),l===i-1&&n.push(`${c},${d+1}`)):(n=[`${c},${d-1}`,`${c},${d+1}`],0===l&&n.push(`${c-1},${d}`),l===i-1&&n.push(`${c+1},${d}`)),n.forEach((n=>{t.has(n)||e.add(n)}))}else{if(t.has(h))return!1;t.add(h)}}return a&&s.forEach((t=>e.add(t))),!0}function i(t){const e=[...t];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}return{possibleShots:function(){const t=Array.from({length:10},((t,e)=>e)),e=Array.from({length:10},((t,e)=>e)),n=[];for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++){const o=t[r],a=e[i];n.push({xCor:o,yCor:a})}return i(n)},shuffle:i,generateRandInt:n,generateShipCor:function(e,i){if(null==i||""===i)throw new Error("Orientation/direction not added");for(let o=0;o<100;o++){const a=n(),s=n();if((i?s:a)+e-1<10){if(r(t,a,s,e,i,!0))return{xCor:a,yCor:s};console.log(o)}}throw new Error("No valid ship coordinate found! Kindly refresh")},clearShipPos:()=>{t.clear(),e.clear()},isEmpty:r}}class w{constructor(){this.utils=v(),this.shots=new Set,this.firedShots=new Set,this.unfilteredShots=this.utils.possibleShots(),this.validShots=this.unfilteredShots.filter((({xCor:t,yCor:e})=>(t+e)%2==0)),this.shotDirection=[],this.initialHit=null,this.currentShot=null,this.dir=this.left=this.right=this.bottom=this.top=this.isAfloat=this.followUpHit=this.shipHit=null}listener(t,e){(t||this.isAfloat)&&(null==this.initialHit&&(this.initialHit=this.currentShot),this.isAfloat=!0,this.followUpHit=!0,t?this.shipHit=!0:(this.currentShot=this.initialHit,this.shipHit=null,this.dir=this.orientation(this.dir),this.dir&&this.shotDirection.push(this.dir)),e&&this.resetTracking())}nextShot(){if(this.followUpHit){const t=this.isHit();if(t)return this.firedShots.add(`${t.xCor}:${t.yCor}`),this.currentShot=t,t}return this.resetTracking(),this.validShots&&(this.currentShot=this.validShots.pop()),this.firedShots.add(`${this.currentShot.xCor}:${this.currentShot.yCor}`),this.currentShot}isHit(){const{xCor:t,yCor:e}=this.currentShot,n={left:[0,-1],right:[0,1],top:[-1,0],bottom:[1,0]},r=this.utils.shuffle(Object.entries(n));if(this.dir){const[r,i]=n[this.dir],o=t+r,a=e+i,s=this.positionChecker(o,a);if(console.log(s),!s&&this.shipHit)return this.currentShot=this.initialHit,this.dir=this.orientation(this.dir),this.shotDirection.push(this.dir),this.isHit();if(s)return s}if(4===this.shotDirection.length)return this.resetTracking(),null;for(const[n,[i,o]]of r)if(!this.shotDirection.includes(n)){const r=t+i,a=e+o;this.dir=n,this.shotDirection.push(n);const s=this.positionChecker(r,a);if(s)return s}return this.resetTracking(),null}positionChecker(t,e){if(t>9||t<0||e>9||e<0||this.firedShots.has(`${t}:${e}`))return!1;let n={xCor:t,yCor:e};return this.validShots=this.validShots.filter((t=>!(t.xCor===n.xCor&&t.yCor===n.yCor))),n}orientation(t){const e={right:"left",left:"right",top:"bottom",bottom:"top"}[t];return e&&!this.shotDirection.includes(e)?e:null}resetTracking(){this.isAfloat=null,this.followUpHit=null,this.initialHit=null,this.currentShot=null,this.dir=null,this.shipHit=null,this.shotDirection=[]}}const S=n.p+"ca740d470a9caa608d2a.mp3",x=n.p+"e4c9999df78a2c180773.mp3",_=n.p+"0d7cc9357b11c5bd6b7a.mp3",C=n.p+"ee7daf7c0c84dba6ac61.mp3",P=n.p+"d44cbfcaff55a8da39eb.mp3";let k=!0,L=.5;const E=t=>{const e=new Audio(t);return e.muted=!k,e.volume=L,e},B=()=>E(S),T=()=>E(x),A=()=>E(_);function O(t,e=L){k=t,L=e}var z=n(72),q=n.n(z),$=n(825),D=n.n($),H=n(659),I=n.n(H),M=n(56),U=n.n(M),N=n(540),j=n.n(N),X=n(113),Y=n.n(X),W=n(208),R={};R.styleTagTransform=Y(),R.setAttributes=U(),R.insert=I().bind(null,"head"),R.domAPI=D(),R.insertStyleElement=j(),q()(W.A,R),W.A&&W.A.locals&&W.A.locals,(new class{constructor(){this.utils=v(),this.playerOne=new r("Player One",i()),this.playerTwo=new r("Player Two",i()),this.targetPlayer=this.playerTwo,this.targetBoard=s.boardTwo,this.currentPlayerPlacement=this.playerOne,this.currentPlayer=this.playerOne,this.activePlacementBoard=s.boardOne,this.nextBoard=s.boardOne,this.startX=this.startY=this.isDragging=this.botPlay=this.gameStarted=this.prevPlayer=this.prevPBoard=!1,this.currentDraggable=null,this.boundMouseMove=this.mouseMove.bind(this),this.boundMouseUp=this.mouseUp.bind(this),this.boundRotate=this.rotateShip.bind(this),this.boundCorClick=this.#t.bind(this),this.orientation=!0,this.vsBot=null}game(){this.#e(),this.loadPrompt();let t=!0;O(!0,.5),s.volumeState.parent.addEventListener("click",(()=>{t=!t,O(t),s.volumeState.all.forEach((t=>t.classList.toggle("hide")))}))}loadPrompt(){s.boardTwoWrapper.style.display="none",l.playerSetts.className="board__player_settings",l.form.innerHTML='<div class ="form__radios">\n                \n                    <div class="form__checkbox ">\n                        <input\n                            type="radio"\n                            name="playerChoice"\n                            id="singlePlayer"\n                            value="1v1"      \n                            class= "radio"   \n                            checked\n\n                        />\n                        <label class="checkbox__label active" for="singlePlayer">Two Players </label\n                        >\n                     </div>\n                   \n            \n                    <div class="form__checkbox">\n                        <input\n                            type="radio"\n                            name="playerChoice"\n                            id="twoPlayer"\n                            value="vsBot"\n                            class= "radio"                \n                           \n                        />\n                        <label class="checkbox__label" for="twoPlayer">Single Player</label\n                        >\n                   \n                    </div>\n                    </div>\n                     <div class="form__extra">\n                    <div class="form-group">\n                        <label for="playerOne" class="name-input">Player One</label>\n                        <input type="text" name="playerOneName" id="playerOne"  placeholder="e.g Joe" />\n                    </div>\n                    <div class="form-group player__two__input">\n                        <label for="playerTwo" class="name-input">Player Two</label>\n                        <input type="text" name="playerTwoName" id="playerTwo"  placeholder="Player Two" />\n                    </div>\n                </div>   \n                <button type="submit" class= "form__button"> Start </button>\n                    ',l.form.addEventListener("click",y),l.playerSetts.appendChild(l.form),s.boardContainer.appendChild(l.playerSetts),l.form.addEventListener("submit",this.#n.bind(this))}#r(){return{Carrier:5,Battleship:4,Destroyer:3,Submarine:3,PatrolBoat:2}}#i(t){const e=this.#r();Object.entries(e).forEach((e=>{t.gameBoard.removeShip(e[0])}))}#o(t){const e=this.#r();this.#i(t),Object.entries(e).forEach((([e,n])=>{const r=Math.random()<.5;let i=o(e,n),{xCor:a,yCor:s}=this.utils.generateShipCor(n,r);t.gameBoard.placeShip(i,a,s,r),this.#e()})),this.utils.clearShipPos()}#t(t){const e=t.target,n=e.closest(".cor");if(!n)return;const r=n.closest(".board");if(r.classList.contains("disabled"))return;if(n.querySelector(".ship-hit")||n.classList.contains("missed")||n.classList.contains("ship-hit"))return;const i=n?.querySelector(".ship");console.log(i);const o=n.dataset.xCor,a=n.dataset.yCor;let l=this.targetPlayer.gameBoard.getBoard()[o][a];this.sendShot(o,a),this.prevPlayer=this.currentPlayer,this.prevPBoard=this.targetBoard;const c=["",0,"X"];if(c.includes(l))c.includes(l)&&(n.classList.add("missed"),B().play(),g(!1));else{l.isSunk()?A().play():T().play(),i.classList.add("ship-hit"),i.classList.remove("no-visibility"),g(l);const t=e.dataset.part||i.dataset.part,n=e.dataset.type||i.dataset.type;this.updateShipHealth(n,t,l.isSunk())}this.vsBot||(this.passLogic(),r.classList.add("disabled")),this.#a(this.targetPlayer),this.#s(),this.vsBot&&this.gameStarted&&(s.boardTwo.removeEventListener("click",this.boundCorClick),setTimeout((()=>{this.botTurn()}),2e3))}#s(){this.targetPlayer=this.targetPlayer===this.playerOne?this.playerTwo:this.playerOne,this.targetBoard=this.targetPlayer===this.playerOne?s.boardTwo:s.boardOne,this.currentPlayer=this.targetPlayer===this.playerOne?this.playerTwo:this.playerOne,this.nextBoard=this.targetBoard===s.boardOne?s.boardTwo:s.boardOne}#a(t){if(!t.gameBoard.isAllShipSunk())return;const e=this.currentPlayer;this.gameStarted=!1,setTimeout((()=>{if(this.vsBot&&"real"==t.type){E(P).play();const e=u;console.log(t),console.log(e),b(e.title(t.name),e.body(t.name),e.btn)}else{E(C).play();const t=p;b(t.title(e.name),t.body(e.name),t.btn)}s.analytics.parent.classList.add("hide"),l.authorization.btn.addEventListener("click",(()=>{location.reload(!0)}))}),1e3)}#e(){s.boardOne.innerHTML="",s.boardTwo.innerHTML="",m(this.playerOne.gameBoard.getBoard(),s.boardOne),m(this.playerTwo.gameBoard.getBoard(),s.boardTwo),this.vsBot&&s.boardTwoWrapper.querySelectorAll(".ship").forEach((t=>t.classList.add("no-visibility")))}#l(t,e="ship-holder",n="ship-layer"){l.playerSetts.innerHTML="",t.innerHTML="",t.classList.add(e);const r=this.#r(),i={};Object.entries(r).forEach((([e,r])=>{let o=document.createElement("div");o.classList.add(n),o.classList.add(`${e}`),o.dataset.type=e;for(let t=0;t<r;t++){i[e]||(i[e]=0),i[e]++;let t=document.createElement("div");t.classList.add(e),t.classList.add("dock-ship"),t.dataset.part=i[e],o.appendChild(t)}t.appendChild(o)}))}#c(){document.querySelectorAll(".ship-layer").forEach((t=>{t.addEventListener("mousedown",(e=>{this.mouseDown(e),t.style.visibility="visible"}))})),s.boardWrappers.forEach((t=>t.addEventListener("click",this.boundRotate)))}mouseDown(t){t.preventDefault();const e=t.target.closest(".ship-layer");e&&(this.currentDraggable=e,this.startX=t.clientX-parseInt(this.currentDraggable.style.left||0),this.startY=t.clientY-parseInt(this.currentDraggable.style.top||0),this.isDragging=!0,s.boardContainer.addEventListener("mousemove",this.boundMouseMove),s.boardContainer.addEventListener("mouseup",this.boundMouseUp))}mouseMove(t){if(t.preventDefault(),this.isDragging){const e=t.clientX-this.startX,n=t.clientY-this.startY;this.currentDraggable.style.left=e+"px",this.currentDraggable.style.top=n+"px"}}mouseUp(t){this.isDragging&&(t.preventDefault(),this.currentDraggable.style.cursor="move",this.dragTarget(t),this.currentDraggable=null)}dragTarget(t){if(t.preventDefault(),!this.isDragging)return;this.isDragging=!1;const e=this.currentDraggable.firstElementChild.getBoundingClientRect();this.currentDraggable.style.visibility="hidden";const n=e.left+e.width/2,r=e.top+e.height/2,i=document.elementFromPoint(t.clientX,t.clientY),a=document.elementFromPoint(n,r),s=this.#r(),l=a?.closest(".cor")||i.closest(".cor"),c=()=>{this.currentDraggable.style.visibility="visible",this.currentDraggable.style.left=0,this.currentDraggable.style.top=0};if(l){const e=this.currentPlayerPlacement.gameBoard,n=this.currentDraggable.dataset.type,r=parseInt(l.dataset.xCor),i=parseInt(l.dataset.yCor),a=this.activePlacementBoard.getBoundingClientRect(),d=o(n,s[n]);1==this.#d(d,r,i,d.orientation)?(e.placeShip(d,r,i,d.orientation),(t.clientX<a.left||t.centerY>a.top)&&c(),this.#e(),this.#h(e)):c()}else c()}#h(t){let e=!1,n=null,r=null;if(5===t.findAllShips().size){if(this.vsBot)f(e),n=()=>this.#p(),this.#o(this.playerTwo);else if(this.currentPlayerPlacement===this.playerOne){e=!0;const t=d;f(e),n=()=>{b(t.title,t.body(this.targetPlayer.name),t.btn)},r=()=>{s.boardContainer.classList.remove("no-visibility"),this.#u(),l.authorization.btn.removeEventListener("click",r)}}else f(e),n=()=>{const t=h;b(t.title,t.body(this.currentPlayer.name),t.btn),l.authorization.article.style.visibility="visible"},r=()=>{s.boardContainer.classList.remove("no-visibility"),this.#p(),l.authorization.btn.removeEventListener("click",r)};l.confirmPlacement.confirmBtn.addEventListener("click",n),l.authorization.btn.addEventListener("click",r)}}#u(){s.boardOneWrapper.style.display="none",s.boardTwoWrapper.style.display="",l.placeHolder.innerHTML="",l.playerSetts.innerHTML="",l.authorization.article.style.visibility="hidden",this.currentPlayerPlacement=this.playerTwo,this.activePlacementBoard=s.boardTwo,this.#l(l.placeHolder),l.playerSetts.appendChild(l.placeHolder),this.#c()}#p(){s.randomizeBtns.forEach((t=>t.parentNode.remove())),l.authorization.article.style.visibility="hidden",s.analytics.parent.classList.remove("no-visibility"),l.playerSetts.style.display="none",s.boardOneWrapper.style.display="",s.analytics.currentPlayerOne.textContent="Your Ship",s.analytics.currentPlayerTwo.textContent="Enemies Ship",s.instructions.forEach((t=>t.classList.add("hide"))),this.#e(),this.#l(s.analytics.one,"analytics__ships__one","analytics__ship"),this.#l(s.analytics.two,"analytics__ships__two","analytics__ship"),this.gameStarted=!0,this.targetBoard.querySelectorAll(".ship").forEach((t=>t.classList.add("no-visibility"))),s.boardWrappers.forEach((t=>t.removeEventListener("click",this.boundRotate))),s.boardContainer.removeEventListener("mousedown",this.boundOnBoard),this.vsBot?(s.boardTwoWrapper.style.display="",s.boardTwo.addEventListener("click",this.boundCorClick),this.targetBoard.style.cursor="crosshair"):(this.targetBoard.addEventListener("click",this.boundCorClick),s.boardOne.classList.add("disabled"),this.updateBoardOpp(),this.targetBoard.style.cursor="crosshair",this.nextBoard.style.cursor="crosshair")}#n(t){t.preventDefault();const e=new FormData(l.form),n=Object.fromEntries(e.entries()),{playerChoice:r,playerOneName:i,playerTwoName:o}=n,a=i||"Player One";let c=o||"Player Two";"vsBot"===r&&(this.vsBot=!0,this.botPlay=new w,c="AI",this.playerTwo.type="AI"),this.playerOne.name=s.playerOne.name.textContent=a,this.playerTwo.name=s.playerTwo.name.textContent=c,s.instructions.forEach((t=>t.textContent="Click ship on board to rotate")),l.playerSetts.style.order=1,this.#l(l.placeHolder),l.playerSetts.appendChild(l.placeHolder),this.#c(),this.boardControls(),l.form.reset()}#d(t,e,n,r){if(!t)return!1;if(r&&n+t.length>10)return!1;if(!r&&e+t.length>10)return!1;const i=this.currentPlayerPlacement.gameBoard.occupiedLocs();return!!this.utils.isEmpty(i,e,n,t.length,r)}rotateShip(t){const e=this.#r(),n=t.target.closest(".cor"),r=this.currentPlayerPlacement.gameBoard;if(!n)return;const i=n.querySelector(".ship");if(!i)return;const a=i.dataset.type,s=this.activePlacementBoard.parentElement.querySelectorAll(`.ship[data-type="${a}"]`)[0].closest(".cor"),l="true"!==i.dataset.positioning,c=parseInt(s.dataset.xCor),d=parseInt(s.dataset.yCor),h=o(a,e[a],l);r.removeShip(i.dataset.type),this.#d(h,c,d,l)?(r.placeShip(h,c,d,l),this.#e()):r.placeShip(h,c,d,!l)}boardControls(){const t=()=>{this.#o(this.currentPlayerPlacement),l.playerSetts.innerHTML="",this.#h(this.currentPlayerPlacement.gameBoard)},e=()=>{this.#i(this.currentPlayerPlacement),this.#e(),this.#l(l.placeHolder),l.playerSetts.appendChild(l.placeHolder),this.#c()};s.randomizeBtns.forEach((e=>{e.parentNode.classList.remove("no-visibility"),e.addEventListener("click",t)})),s.resetBtns.forEach((t=>{t.addEventListener("click",e)}))}sendShot(t,e){const n={xCor:t,yCor:e},r=this.targetPlayer.gameBoard;r.hitSpots().has(n)||r.receiveAttack(t,e)}botTurn(){if(this.targetPlayer!==this.playerOne)return;const{xCor:t,yCor:e}=this.botPlay.nextShot();let n=this.targetPlayer.gameBoard.getBoard()[t][e];this.sendShot(t,e);let r,i=null;const o=s.boardOne.querySelector(`.cor[data-x-cor = "${t}"][data-y-cor = "${e}"]`);if(["",0,"X"].includes(n))B().play(),o.classList.add("missed");else{i=!0,r=n.isSunk();const t=o.querySelector(".ship");r?A().play():T().play(),t.classList.add("ship-hit"),t.classList.remove("no-visibility");const e=t.dataset.part,a=t.dataset.type;this.updateShipHealth(a,e,r)}this.prevPlayer=this.currentPlayer,this.prevPBoard=this.targetBoard,this.botPlay.listener(i,r),this.#a(this.targetPlayer),this.#s(),s.boardTwo.addEventListener("click",this.boundCorClick)}updateShipHealth(t,e,n=!1){if(!t||!e)return;let r=null;r=this.targetPlayer===this.playerOne?s.analytics.one.querySelector(`.${t}[data-part ="${e}"]`):s.analytics.two.querySelector(`.${t}[data-part ="${e}"]`),n&&this.nextBoard.querySelectorAll(`[data-type ="${t}"]`).forEach((t=>t.classList.add("sunk"))),r.classList.add("ship-hit")}passLogic(){const t=t=>{t.target.classList.add("hide");const n=h;let r,i;b(n.title,n.body(this.currentPlayer.name),n.btn),this.targetBoard.classList.add("disabled"),this.currentPlayer===this.playerOne?(r="Your Ship",i="Enemy ships"):(i="Your Ship",r="Enemy ships"),s.analytics.currentPlayerOne.textContent=r,s.analytics.currentPlayerTwo.textContent=i;const o=this.currentPlayer===this.playerOne?2:-1;s.analytics.infoTwo.style.order=o,s.analytics.liveUpdate.textContent="",l.authorization.article.style.visibility="visible",l.authorization.btn.addEventListener("click",e)},e=()=>{l.authorization.article.style.visibility="hidden",s.boardContainer.classList.remove("no-visibility"),this.updateBoardOpp(),this.targetBoard.removeEventListener("click",this.boundCorClick),this.nextBoard.querySelectorAll(".ship").forEach((t=>{t.classList.contains("ship-hit")||t.classList.add("no-visibility")})),this.targetBoard.querySelectorAll(".ship").forEach((t=>t.classList.remove("no-visibility"))),this.nextBoard.addEventListener("click",this.boundCorClick),this.nextBoard.classList.remove("disabled"),this.targetBoard.classList.add("disabled"),l.authorization.btn.removeEventListener("click",e)},n=this.targetPlayer===this.playerOne?s.boardPass.one:s.boardPass.two,r=this.targetPlayer===this.playerOne?"Pass device to Player Two":"Pass device to Player One";n.textContent=r,setTimeout((()=>{n.classList.remove("hide"),n.addEventListener("click",t)}),1e3)}updateBoardOpp(){const t=this.targetPlayer===this.playerOne,{one:e,two:n}=s.boardOpp;e.textContent=t?"Enemy Board":"Your Board",n.textContent=t?"Your Board":"Enemy Board",e.classList.toggle("active-enemy-board",t),n.classList.toggle("active-enemy-board",!t)}}).game(),window.addEventListener("DOMContentLoaded",(()=>{document.body.style.visibility="visible"}))})();